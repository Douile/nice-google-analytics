function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],function(t){const e=new URL(t.src,location),n=atob("LmdhLWRpYWxvZywuZ2EtZGlhbG9nICp7Y29sb3I6dmFyKC0tZ2EtZm9yZWdyb3VuZCk7Ym94LXNpemluZzpib3JkZXItYm94fS5nYS1kaWFsb2d7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmZpeGVkO2JvdHRvbTowO2xlZnQ6MDt3aWR0aDoxMDB2dztoZWlnaHQ6MTB2aDthbmltYXRpb246c2xpZGUtaW4tYm90dG9tIDFzIGVhc2U7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czoxMHB4IDEwcHggMCAwO2p1c3RpZnktY29udGVudDpzcGFjZS1hcm91bmQ7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6MTVweDtiYWNrZ3JvdW5kOnZhcigtLWdhLWJhY2tncm91bmQpO3otaW5kZXg6Mn0uZ2EtZGlhbG9nLXRleHR7ZmxleC1ncm93OjE7bWFyZ2luOjEwcHh9LmdhLWRpYWxvZy1idXR0b257bWluLXdpZHRoOjEwMHB4O2JvcmRlcjoxcHggc29saWQgdmFyKC0tZ2EtZm9yZWdyb3VuZCk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1nYS1iYWNrZ3JvdW5kKTtib3JkZXItcmFkaXVzOjVweDtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOjVweDttYXJnaW46MTBweDt0ZXh0LWFsaWduOmNlbnRlcjt0cmFuc2l0aW9uOjFzIGVhc2UgYmFja2dyb3VuZC1jb2xvcn0uZ2EtZGlhbG9nLWFjY2VwdDpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWdhLWFjY2VwdCl9LmdhLWRpYWxvZy1kZWNsaW5lOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tZ2EtZGVjbGluZSl9KnstLWdhLWJhY2tncm91bmQ6IzFhMWUxYzstLWdhLWZvcmVncm91bmQ6I2ZmZmZmZjstLWdhLWFjY2VwdDojMzA4NzMyOy0tZ2EtZGVjbGluZTojZDMyZjJmfQo=");function o(t,e,n){const o=document.createElement(t);if(void 0!==n&&(o.innerText=n),e)for(let t in e)o.setAttribute(t,e[t]);return o}const a=Object.defineProperties({},{TRACKING_ID:{configurable:!1,writable:!1,value:e.searchParams.get("id")},TRACKING_SCRIPT:{configurable:!1,get:function(){return`https://www.googletagmanager.com/gtag/js?id=${a.TRACKING_ID}`}},TRACKING_CONSENT_KEY:{configurable:!1,writable:!1,value:e.searchParams.get("storageKey")||"_GA_CONSENT"}});async function c(){if(await new Promise(t=>{if(null!==document.head.querySelector('link[rel="stylesheet"][name="_ga_styles"]'))return t();const e=new Blob([n],{type:"text/css"}),a=o("link",{rel:"stylesheet",name:"_ga_styles",href:URL.createObjectURL(e),integrity:"sha512-36lAgmhNoaCsrUsya6wyv2PrMtVbA77Cy+6mOWyLCq6orMAr6kSVPM6N18ZPD/p+17saP9kVVjFlMhkd0c0Jyw=="});a.addEventListener("load",function(){t()},{once:!0}),document.head.prepend(a)}),console.log(`Attempting to load google analytics for ${a.TRACKING_ID}`),await new Promise(t=>{fetch(a.TRACKING_SCRIPT,{method:"HEAD",mode:"no-cors"}).then(()=>{t(!0)}).catch(()=>{t(!1)})})){if(!await new Promise(t=>{try{if(localStorage){const e=localStorage.getItem(a.TRACKING_CONSENT_KEY);if("true"===e)return t(!0);if(null!==e)return t(!1)}console.log("Showing GA consent dialog");const e=o("dialog",{class:"ga-dialog"});e.appendChild(o("p",{class:"ga-dialog-text"},"Would you like to load Google Analytics?"));const n=o("button",{class:"ga-dialog-button ga-dialog-accept"},"Yes"),c=o("button",{class:"ga-dialog-button ga-dialog-decline"},"No");n.addEventListener("click",()=>{localStorage.setItem(a.TRACKING_CONSENT_KEY,"true"),e.remove(),t(!0)},{once:!0}),c.addEventListener("click",()=>{localStorage.setItem(a.TRACKING_CONSENT_KEY,"false"),e.remove(),t(!1)},{once:!0}),e.appendChild(n),e.appendChild(c),document.body.appendChild(e)}catch(t){console.error(t)}}))return;const t=o("script",{async:"",src:a.TRACKING_SCRIPT});document.head.appendChild(t),gtag("js",new Date),gtag("config",a.TRACKING_ID),console.log("Loaded google analytics")}else console.log("User-Agent blocks google analytics")}window.addEventListener("load",function(){c().then(null,console.error)},{once:!0,passive:!0})}.call(null,document.currentScript);
